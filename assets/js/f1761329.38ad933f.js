"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4488],{7297:(n,e,c)=>{c.r(e),c.d(e,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"lock-native-back","title":"Lock Native Back","description":"Lock Native Back \u662f\u4e00\u4e2a\u7528\u4e8e\u9632\u6b62\u7528\u6237\u901a\u8fc7\u539f\u751f\u8fd4\u56de\u6309\u94ae\u9000\u51fa\u5e94\u7528\u7684\u5de5\u5177\u5305\uff0c\u63d0\u4f9b\u4e86\u7b80\u5355\u6613\u7528\u7684 API\u3002","source":"@site/docs/lock-native-back.md","sourceDirName":".","slug":"/lock-native-back","permalink":"/kazurajs/docs/lock-native-back","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/lock-native-back.md","tags":[],"version":"current","sidebarPosition":24,"frontMatter":{"sidebar_position":24},"sidebar":"tutorialSidebar","previous":{"title":"Taro Storage","permalink":"/kazurajs/docs/taro-storage"},"next":{"title":"Komekko","permalink":"/kazurajs/docs/komekko"}}');var l=c(6106),o=c(8368);const t={sidebar_position:24},a="Lock Native Back",s={},r=[{value:"\u7279\u6027",id:"\u7279\u6027",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:2},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:3},{value:"API \u53c2\u8003",id:"api-\u53c2\u8003",level:2},{value:"\u6784\u9020\u51fd\u6570",id:"\u6784\u9020\u51fd\u6570",level:3},{value:"\u5b9e\u4f8b\u65b9\u6cd5",id:"\u5b9e\u4f8b\u65b9\u6cd5",level:3},{value:"lock",id:"lock",level:4},{value:"unLock",id:"unlock",level:4},{value:"\u7c7b\u578b\u5b9a\u4e49",id:"\u7c7b\u578b\u5b9a\u4e49",level:2},{value:"Options",id:"options",level:3},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u5728 React \u7ec4\u4ef6\u4e2d\u4f7f\u7528",id:"\u5728-react-\u7ec4\u4ef6\u4e2d\u4f7f\u7528",level:3},{value:"\u5728 Vue \u7ec4\u4ef6\u4e2d\u4f7f\u7528",id:"\u5728-vue-\u7ec4\u4ef6\u4e2d\u4f7f\u7528",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"lock-native-back",children:"Lock Native Back"})}),"\n",(0,l.jsx)(e.p,{children:"Lock Native Back \u662f\u4e00\u4e2a\u7528\u4e8e\u9632\u6b62\u7528\u6237\u901a\u8fc7\u539f\u751f\u8fd4\u56de\u6309\u94ae\u9000\u51fa\u5e94\u7528\u7684\u5de5\u5177\u5305\uff0c\u63d0\u4f9b\u4e86\u7b80\u5355\u6613\u7528\u7684 API\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"\u7279\u6027",children:"\u7279\u6027"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u652f\u6301\u6d4f\u89c8\u5668\u539f\u751f\u8fd4\u56de\u6309\u94ae\u62e6\u622a"}),"\n",(0,l.jsx)(e.li,{children:"\u652f\u6301\u81ea\u5b9a\u4e49\u8fd4\u56de\u4e8b\u4ef6\u5904\u7406"}),"\n",(0,l.jsx)(e.li,{children:"\u652f\u6301\u9501\u5b9a\u548c\u89e3\u9501\u72b6\u6001\u7ba1\u7406"}),"\n",(0,l.jsx)(e.li,{children:"\u7c7b\u578b\u5b89\u5168\u7684 API"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"npm install @kazura/lock-native-back\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.h3,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"import LockNativeBack from '@kazura/lock-native-back'\n\n// \u521b\u5efa\u5b9e\u4f8b\nconst lockNativeBack = new LockNativeBack({\n  onPopState: () => {\n    console.log('Back button pressed')\n  },\n})\n\n// \u9501\u5b9a\u8fd4\u56de\u6309\u94ae\nconst unlock = lockNativeBack.lock()\n\n// \u89e3\u9501\u8fd4\u56de\u6309\u94ae\nunlock()\n// \u6216\u8005\nlockNativeBack.unLock()\n"})}),"\n",(0,l.jsx)(e.h2,{id:"api-\u53c2\u8003",children:"API \u53c2\u8003"}),"\n",(0,l.jsx)(e.h3,{id:"\u6784\u9020\u51fd\u6570",children:"\u6784\u9020\u51fd\u6570"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"constructor(options?: Options)\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u521b\u5efa\u4e00\u4e2a LockNativeBack \u5b9e\u4f8b\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"options"}),": \u914d\u7f6e\u9009\u9879","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"onPopState"}),": \u8fd4\u56de\u6309\u94ae\u4e8b\u4ef6\u5904\u7406\u51fd\u6570"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5b9e\u4f8b\u65b9\u6cd5",children:"\u5b9e\u4f8b\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.h4,{id:"lock",children:"lock"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"lock(): () => void\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u9501\u5b9a\u8fd4\u56de\u6309\u94ae\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u89e3\u9501\u51fd\u6570"}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"unlock",children:"unLock"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"unLock(): void\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u89e3\u9501\u8fd4\u56de\u6309\u94ae\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"\u7c7b\u578b\u5b9a\u4e49",children:"\u7c7b\u578b\u5b9a\u4e49"}),"\n",(0,l.jsx)(e.h3,{id:"options",children:"Options"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"interface Options {\n  onPopState?: Function\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e\u9009\u9879\u63a5\u53e3\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u786e\u4fdd\u5728\u9002\u5f53\u7684\u65f6\u673a\u9501\u5b9a\u548c\u89e3\u9501\u8fd4\u56de\u6309\u94ae"}),"\n",(0,l.jsx)(e.li,{children:"\u6ce8\u610f\u8fd4\u56de\u4e8b\u4ef6\u7684\u5904\u7406\u65f6\u673a"}),"\n",(0,l.jsx)(e.li,{children:"\u5efa\u8bae\u5728\u7ec4\u4ef6\u5378\u8f7d\u65f6\u89e3\u9501\u8fd4\u56de\u6309\u94ae"}),"\n",(0,l.jsx)(e.li,{children:"\u907f\u514d\u91cd\u590d\u9501\u5b9a\u8fd4\u56de\u6309\u94ae"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,l.jsx)(e.h3,{id:"\u5728-react-\u7ec4\u4ef6\u4e2d\u4f7f\u7528",children:"\u5728 React \u7ec4\u4ef6\u4e2d\u4f7f\u7528"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"import React, { useEffect } from 'react'\nimport LockNativeBack from '@kazura/lock-native-back'\n\nfunction Page() {\n  useEffect(() => {\n    const lockNativeBack = new LockNativeBack({\n      onPopState: () => {\n        console.log('Back button pressed')\n      },\n    })\n\n    // \u9501\u5b9a\u8fd4\u56de\u6309\u94ae\n    const unlock = lockNativeBack.lock()\n\n    // \u7ec4\u4ef6\u5378\u8f7d\u65f6\u89e3\u9501\n    return () => {\n      unlock()\n    }\n  }, [])\n\n  return <div>Page Content</div>\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u5728-vue-\u7ec4\u4ef6\u4e2d\u4f7f\u7528",children:"\u5728 Vue \u7ec4\u4ef6\u4e2d\u4f7f\u7528"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"import { defineComponent, onMounted, onUnmounted } from 'vue'\nimport LockNativeBack from '@kazura/lock-native-back'\n\nexport default defineComponent({\n  setup() {\n    let unlock: (() => void) | undefined\n\n    onMounted(() => {\n      const lockNativeBack = new LockNativeBack({\n        onPopState: () => {\n          console.log('Back button pressed')\n        },\n      })\n\n      // \u9501\u5b9a\u8fd4\u56de\u6309\u94ae\n      unlock = lockNativeBack.lock()\n    })\n\n    onUnmounted(() => {\n      // \u7ec4\u4ef6\u5378\u8f7d\u65f6\u89e3\u9501\n      if (unlock) {\n        unlock()\n      }\n    })\n\n    return {}\n  },\n})\n"})})]})}function u(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},8368:(n,e,c)=>{c.d(e,{R:()=>t,x:()=>a});var i=c(7378);const l={},o=i.createContext(l);function t(n){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);