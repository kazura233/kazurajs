"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4106],{9205:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"web-storage","title":"Web Storage","description":"Web Storage \u662f\u4e00\u4e2a\u63d0\u4f9b\u672c\u5730\u5b58\u50a8\u529f\u80fd\u7684\u5de5\u5177\u5305\uff0c\u5b83\u652f\u6301\u591a\u79cd\u6570\u636e\u7c7b\u578b\u7684\u5b58\u50a8\u548c\u81ea\u52a8\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u3002","source":"@site/docs/web-storage.md","sourceDirName":".","slug":"/web-storage","permalink":"/kazurajs/docs/web-storage","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/web-storage.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Web Crypto","permalink":"/kazurajs/docs/web-crypto"},"next":{"title":"Web Broadcast","permalink":"/kazurajs/docs/web-broadcast"}}');var a=t(6106),s=t(1427);const i={sidebar_position:8},l="Web Storage",c={},o=[{value:"\u7279\u6027",id:"\u7279\u6027",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:2},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:3},{value:"\u4f7f\u7528\u4e0d\u540c\u6570\u636e\u7c7b\u578b",id:"\u4f7f\u7528\u4e0d\u540c\u6570\u636e\u7c7b\u578b",level:3},{value:"API \u53c2\u8003",id:"api-\u53c2\u8003",level:2},{value:"\u6784\u9020\u51fd\u6570",id:"\u6784\u9020\u51fd\u6570",level:3},{value:"getItem",id:"getitem",level:3},{value:"setItem",id:"setitem",level:3},{value:"removeItem",id:"removeitem",level:3},{value:"clear",id:"clear",level:3},{value:"key",id:"key",level:3},{value:"length",id:"length",level:3},{value:"all",id:"all",level:3},{value:"getStorage",id:"getstorage",level:3},{value:"getKeyName",id:"getkeyname",level:3},{value:"getValueType",id:"getvaluetype",level:3},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u5b58\u50a8\u7528\u6237\u4fe1\u606f",id:"\u5b58\u50a8\u7528\u6237\u4fe1\u606f",level:3},{value:"\u7ba1\u7406\u8d2d\u7269\u8f66",id:"\u7ba1\u7406\u8d2d\u7269\u8f66",level:3},{value:"\u7ba1\u7406\u5e94\u7528\u8bbe\u7f6e",id:"\u7ba1\u7406\u5e94\u7528\u8bbe\u7f6e",level:3},{value:"\u7f13\u5b58 API \u54cd\u5e94",id:"\u7f13\u5b58-api-\u54cd\u5e94",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"web-storage",children:"Web Storage"})}),"\n",(0,a.jsx)(n.p,{children:"Web Storage \u662f\u4e00\u4e2a\u63d0\u4f9b\u672c\u5730\u5b58\u50a8\u529f\u80fd\u7684\u5de5\u5177\u5305\uff0c\u5b83\u652f\u6301\u591a\u79cd\u6570\u636e\u7c7b\u578b\u7684\u5b58\u50a8\u548c\u81ea\u52a8\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u7279\u6027",children:"\u7279\u6027"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u652f\u6301\u591a\u79cd\u6570\u636e\u7c7b\u578b\u7684\u5b58\u50a8\uff08Array\u3001Object\u3001Boolean\u3001Number\u3001String\u3001Map\u3001Set\uff09"}),"\n",(0,a.jsx)(n.li,{children:"\u81ea\u52a8\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316"}),"\n",(0,a.jsx)(n.li,{children:"\u7c7b\u578b\u5b89\u5168\u7684 API"}),"\n",(0,a.jsx)(n.li,{children:"\u652f\u6301 localStorage \u548c sessionStorage"}),"\n",(0,a.jsx)(n.li,{children:"\u63d0\u4f9b\u83b7\u53d6\u6240\u6709\u5b58\u50a8\u9879\u7684\u529f\u80fd"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install @kazura/web-storage\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,a.jsx)(n.h3,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import WebStorage from '@kazura/web-storage'\n\n// \u521b\u5efa\u5b58\u50a8\u5b9e\u4f8b\nconst storage = new WebStorage(localStorage, 'user', Object)\n\n// \u5b58\u50a8\u6570\u636e\nstorage.setItem({ name: 'John', age: 30 })\n\n// \u83b7\u53d6\u6570\u636e\nconst user = storage.getItem()\n\n// \u5220\u9664\u6570\u636e\nstorage.removeItem()\n\n// \u6e05\u7a7a\u6240\u6709\u6570\u636e\nstorage.clear()\n\n// \u83b7\u53d6\u6240\u6709\u5b58\u50a8\u9879\nconst allItems = storage.all()\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u4f7f\u7528\u4e0d\u540c\u6570\u636e\u7c7b\u578b",children:"\u4f7f\u7528\u4e0d\u540c\u6570\u636e\u7c7b\u578b"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import WebStorage from '@kazura/web-storage'\n\n// \u5b58\u50a8\u6570\u7ec4\nconst arrayStorage = new WebStorage(localStorage, 'items', Array)\narrayStorage.setItem(['apple', 'banana', 'orange'])\n\n// \u5b58\u50a8 Map\nconst mapStorage = new WebStorage(localStorage, 'settings', Map)\nmapStorage.setItem(\n  new Map([\n    ['theme', 'dark'],\n    ['language', 'en'],\n  ])\n)\n\n// \u5b58\u50a8 Set\nconst setStorage = new WebStorage(localStorage, 'tags', Set)\nsetStorage.setItem(new Set(['important', 'urgent', 'todo']))\n\n// \u5b58\u50a8\u5e03\u5c14\u503c\nconst boolStorage = new WebStorage(localStorage, 'isLoggedIn', Boolean)\nboolStorage.setItem(true)\n\n// \u5b58\u50a8\u6570\u5b57\nconst numberStorage = new WebStorage(localStorage, 'count', Number)\nnumberStorage.setItem(42)\n\n// \u5b58\u50a8\u5b57\u7b26\u4e32\nconst stringStorage = new WebStorage(localStorage, 'message', String)\nstringStorage.setItem('Hello, World!')\n"})}),"\n",(0,a.jsx)(n.h2,{id:"api-\u53c2\u8003",children:"API \u53c2\u8003"}),"\n",(0,a.jsx)(n.h3,{id:"\u6784\u9020\u51fd\u6570",children:"\u6784\u9020\u51fd\u6570"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"constructor(storage: Storage, keyName: string, valueType: any)\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u521b\u5efa\u4e00\u4e2a WebStorage \u5b9e\u4f8b\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"storage"}),": \u5b58\u50a8\u5bf9\u8c61\uff08localStorage \u6216 sessionStorage\uff09"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"keyName"}),": \u5b58\u50a8\u7684\u952e\u540d"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"valueType"}),": \u5b58\u50a8\u503c\u7684\u6570\u636e\u7c7b\u578b\uff08Array\u3001Object\u3001Boolean\u3001Number\u3001String\u3001Map\u3001Set\uff09"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"getitem",children:"getItem"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"getItem(): any\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u83b7\u53d6\u5b58\u50a8\u7684\u503c\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5b58\u50a8\u7684\u503c\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u8fd4\u56de null"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"setitem",children:"setItem"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"setItem(value: any): void\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u8bbe\u7f6e\u5b58\u50a8\u7684\u503c\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"value"}),": \u8981\u5b58\u50a8\u7684\u503c"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"removeitem",children:"removeItem"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"removeItem(): void\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u5220\u9664\u5b58\u50a8\u7684\u503c\u3002"}),"\n",(0,a.jsx)(n.h3,{id:"clear",children:"clear"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"clear(): void\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u6e05\u7a7a\u6240\u6709\u5b58\u50a8\u9879\u3002"}),"\n",(0,a.jsx)(n.h3,{id:"key",children:"key"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"key(key: number): string | null\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u83b7\u53d6\u6307\u5b9a\u7d22\u5f15\u7684\u952e\u540d\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"key"}),": \u952e\u7684\u7d22\u5f15"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u952e\u540d\uff0c\u5982\u679c\u7d22\u5f15\u65e0\u6548\u5219\u8fd4\u56de null"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"length",children:"length"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"get length(): number\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u83b7\u53d6\u5b58\u50a8\u7684\u952e\u503c\u5bf9\u4e2a\u6570\u3002"}),"\n",(0,a.jsx)(n.h3,{id:"all",children:"all"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"all(): { [key: string]: string }\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u83b7\u53d6\u6240\u6709\u5b58\u50a8\u7684\u952e\u503c\u5bf9\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5305\u542b\u6240\u6709\u5b58\u50a8\u9879\u7684\u5bf9\u8c61"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"getstorage",children:"getStorage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"getStorage(): Storage\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u83b7\u53d6\u5b58\u50a8\u5bf9\u8c61\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5b58\u50a8\u5bf9\u8c61\uff08localStorage \u6216 sessionStorage\uff09"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"getkeyname",children:"getKeyName"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"getKeyName(): string\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u83b7\u53d6\u5b58\u50a8\u7684\u952e\u540d\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u952e\u540d"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"getvaluetype",children:"getValueType"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"getValueType(): any\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u83b7\u53d6\u5b58\u50a8\u503c\u7684\u6570\u636e\u7c7b\u578b\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u6570\u636e\u7c7b\u578b"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u5305\u62ec\uff1aArray\u3001Object\u3001Boolean\u3001Number\u3001String\u3001Map\u3001Set"}),"\n",(0,a.jsx)(n.li,{children:"\u5b58\u50a8\u7684\u503c\u4f1a\u81ea\u52a8\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316"}),"\n",(0,a.jsx)(n.li,{children:"\u5b58\u50a8\u7a7a\u95f4\u6709\u9650\uff0c\u5efa\u8bae\u53ca\u65f6\u6e05\u7406\u4e0d\u9700\u8981\u7684\u6570\u636e"}),"\n",(0,a.jsx)(n.li,{children:"\u4f7f\u7528 Map \u548c Set \u7c7b\u578b\u65f6\uff0c\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3a\u6570\u7ec4\u8fdb\u884c\u5b58\u50a8"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,a.jsx)(n.h3,{id:"\u5b58\u50a8\u7528\u6237\u4fe1\u606f",children:"\u5b58\u50a8\u7528\u6237\u4fe1\u606f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import WebStorage from '@kazura/web-storage'\n\ninterface UserInfo {\n  id: string\n  name: string\n  email: string\n  preferences: {\n    theme: 'light' | 'dark'\n    language: string\n  }\n}\n\n// \u521b\u5efa\u5b58\u50a8\u5b9e\u4f8b\nconst userStorage = new WebStorage(localStorage, 'userInfo', Object)\n\n// \u5b58\u50a8\u7528\u6237\u4fe1\u606f\nconst userInfo: UserInfo = {\n  id: '123',\n  name: 'John Doe',\n  email: 'john@example.com',\n  preferences: {\n    theme: 'light',\n    language: 'en',\n  },\n}\n\nuserStorage.setItem(userInfo)\n\n// \u83b7\u53d6\u7528\u6237\u4fe1\u606f\nconst storedUserInfo = userStorage.getItem() as UserInfo\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u7ba1\u7406\u8d2d\u7269\u8f66",children:"\u7ba1\u7406\u8d2d\u7269\u8f66"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import WebStorage from '@kazura/web-storage'\n\ninterface CartItem {\n  id: string\n  name: string\n  price: number\n  quantity: number\n}\n\n// \u521b\u5efa\u5b58\u50a8\u5b9e\u4f8b\nconst cartStorage = new WebStorage(localStorage, 'cart', Array)\n\n// \u6dfb\u52a0\u5546\u54c1\u5230\u8d2d\u7269\u8f66\nfunction addToCart(item: CartItem) {\n  const cart = (cartStorage.getItem() as CartItem[]) || []\n  const existingItem = cart.find((i) => i.id === item.id)\n\n  if (existingItem) {\n    existingItem.quantity += item.quantity\n  } else {\n    cart.push(item)\n  }\n\n  cartStorage.setItem(cart)\n}\n\n// \u4ece\u8d2d\u7269\u8f66\u79fb\u9664\u5546\u54c1\nfunction removeFromCart(itemId: string) {\n  const cart = (cartStorage.getItem() as CartItem[]) || []\n  const updatedCart = cart.filter((item) => item.id !== itemId)\n  cartStorage.setItem(updatedCart)\n}\n\n// \u6e05\u7a7a\u8d2d\u7269\u8f66\nfunction clearCart() {\n  cartStorage.removeItem()\n}\n\n// \u83b7\u53d6\u8d2d\u7269\u8f66\u603b\u4ef7\nfunction getCartTotal(): number {\n  const cart = (cartStorage.getItem() as CartItem[]) || []\n  return cart.reduce((total, item) => total + item.price * item.quantity, 0)\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u7ba1\u7406\u5e94\u7528\u8bbe\u7f6e",children:"\u7ba1\u7406\u5e94\u7528\u8bbe\u7f6e"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import WebStorage from '@kazura/web-storage'\n\ninterface AppSettings {\n  theme: 'light' | 'dark'\n  fontSize: number\n  notifications: boolean\n  recentFiles: Set<string>\n  shortcuts: Map<string, string>\n}\n\n// \u521b\u5efa\u5b58\u50a8\u5b9e\u4f8b\nconst settingsStorage = new WebStorage(localStorage, 'appSettings', Object)\n\n// \u521d\u59cb\u5316\u9ed8\u8ba4\u8bbe\u7f6e\nconst defaultSettings: AppSettings = {\n  theme: 'light',\n  fontSize: 14,\n  notifications: true,\n  recentFiles: new Set(),\n  shortcuts: new Map(),\n}\n\n// \u4fdd\u5b58\u8bbe\u7f6e\nfunction saveSettings(settings: AppSettings) {\n  settingsStorage.setItem(settings)\n}\n\n// \u52a0\u8f7d\u8bbe\u7f6e\nfunction loadSettings(): AppSettings {\n  const stored = settingsStorage.getItem()\n  return stored || defaultSettings\n}\n\n// \u66f4\u65b0\u4e3b\u9898\nfunction updateTheme(theme: 'light' | 'dark') {\n  const settings = loadSettings()\n  settings.theme = theme\n  saveSettings(settings)\n}\n\n// \u6dfb\u52a0\u6700\u8fd1\u6587\u4ef6\nfunction addRecentFile(filePath: string) {\n  const settings = loadSettings()\n  settings.recentFiles.add(filePath)\n  saveSettings(settings)\n}\n\n// \u6dfb\u52a0\u5feb\u6377\u952e\nfunction addShortcut(key: string, command: string) {\n  const settings = loadSettings()\n  settings.shortcuts.set(key, command)\n  saveSettings(settings)\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u7f13\u5b58-api-\u54cd\u5e94",children:"\u7f13\u5b58 API \u54cd\u5e94"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import WebStorage from '@kazura/web-storage'\n\ninterface CacheItem<T> {\n  data: T\n  timestamp: number\n  expiresIn: number\n}\n\n// \u521b\u5efa\u5b58\u50a8\u5b9e\u4f8b\nconst cacheStorage = new WebStorage(localStorage, 'apiCache', Object)\n\n// \u7f13\u5b58\u6570\u636e\nfunction cacheData<T>(key: string, data: T, expiresIn: number = 3600000) {\n  const cache = (cacheStorage.getItem() as { [key: string]: CacheItem<T> }) || {}\n  cache[key] = {\n    data,\n    timestamp: Date.now(),\n    expiresIn,\n  }\n  cacheStorage.setItem(cache)\n}\n\n// \u83b7\u53d6\u7f13\u5b58\u6570\u636e\nfunction getCachedData<T>(key: string): T | null {\n  const cache = (cacheStorage.getItem() as { [key: string]: CacheItem<T> }) || {}\n  const item = cache[key]\n\n  if (!item) return null\n\n  const now = Date.now()\n  if (now - item.timestamp > item.expiresIn) {\n    delete cache[key]\n    cacheStorage.setItem(cache)\n    return null\n  }\n\n  return item.data\n}\n\n// \u6e05\u9664\u8fc7\u671f\u7f13\u5b58\nfunction clearExpiredCache() {\n  const cache = (cacheStorage.getItem() as { [key: string]: CacheItem<any> }) || {}\n  const now = Date.now()\n\n  Object.entries(cache).forEach(([key, item]) => {\n    if (now - item.timestamp > item.expiresIn) {\n      delete cache[key]\n    }\n  })\n\n  cacheStorage.setItem(cache)\n}\n"})})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},1427:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var r=t(7378);const a={},s=r.createContext(a);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);