"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8341],{7580:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"web-crypto","title":"Web Crypto","description":"Web Crypto \u662f\u4e00\u4e2a\u63d0\u4f9b\u5e38\u7528\u52a0\u5bc6\u7b97\u6cd5\u7684\u5de5\u5177\u5305\uff0c\u57fa\u4e8e crypto-js \u548c jsencrypt \u5b9e\u73b0\uff0c\u652f\u6301 Base64\u3001MD5\u3001SHA256\u3001RSA \u548c AES \u52a0\u5bc6\u3002","source":"@site/docs/web-crypto.md","sourceDirName":".","slug":"/web-crypto","permalink":"/kazurajs/docs/web-crypto","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/web-crypto.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Web Util","permalink":"/kazurajs/docs/web-util"},"next":{"title":"Web Storage","permalink":"/kazurajs/docs/web-storage"}}');var c=s(6106),t=s(8368);const i={sidebar_position:7},l="Web Crypto",d={},a=[{value:"\u7279\u6027",id:"\u7279\u6027",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:2},{value:"Base64 \u7f16\u7801",id:"base64-\u7f16\u7801",level:3},{value:"MD5 \u54c8\u5e0c",id:"md5-\u54c8\u5e0c",level:3},{value:"SHA256 \u54c8\u5e0c",id:"sha256-\u54c8\u5e0c",level:3},{value:"RSA \u52a0\u5bc6",id:"rsa-\u52a0\u5bc6",level:3},{value:"AES \u52a0\u5bc6",id:"aes-\u52a0\u5bc6",level:3},{value:"API \u53c2\u8003",id:"api-\u53c2\u8003",level:2},{value:"Base64",id:"base64",level:3},{value:"md5",id:"md5",level:3},{value:"sha256",id:"sha256",level:3},{value:"Rsa1024/Rsa2048",id:"rsa1024rsa2048",level:3},{value:"Aes128Ecb",id:"aes128ecb",level:3},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u6587\u4ef6\u52a0\u5bc6",id:"\u6587\u4ef6\u52a0\u5bc6",level:3},{value:"\u5bc6\u7801\u54c8\u5e0c",id:"\u5bc6\u7801\u54c8\u5e0c",level:3},{value:"\u5b89\u5168\u901a\u4fe1",id:"\u5b89\u5168\u901a\u4fe1",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"web-crypto",children:"Web Crypto"})}),"\n",(0,c.jsx)(n.p,{children:"Web Crypto \u662f\u4e00\u4e2a\u63d0\u4f9b\u5e38\u7528\u52a0\u5bc6\u7b97\u6cd5\u7684\u5de5\u5177\u5305\uff0c\u57fa\u4e8e crypto-js \u548c jsencrypt \u5b9e\u73b0\uff0c\u652f\u6301 Base64\u3001MD5\u3001SHA256\u3001RSA \u548c AES \u52a0\u5bc6\u3002"}),"\n",(0,c.jsx)(n.h2,{id:"\u7279\u6027",children:"\u7279\u6027"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u652f\u6301 Base64 \u7f16\u7801\u548c\u89e3\u7801"}),"\n",(0,c.jsx)(n.li,{children:"\u652f\u6301 MD5 \u54c8\u5e0c\u8ba1\u7b97"}),"\n",(0,c.jsx)(n.li,{children:"\u652f\u6301 SHA256 \u54c8\u5e0c\u8ba1\u7b97"}),"\n",(0,c.jsx)(n.li,{children:"\u652f\u6301 RSA-1024 \u548c RSA-2048 \u52a0\u5bc6"}),"\n",(0,c.jsx)(n.li,{children:"\u652f\u6301 AES-128-ECB \u52a0\u5bc6"}),"\n",(0,c.jsx)(n.li,{children:"\u63d0\u4f9b\u5bc6\u94a5\u751f\u6210\u529f\u80fd"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"npm install @kazura/web-crypto\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,c.jsx)(n.h3,{id:"base64-\u7f16\u7801",children:"Base64 \u7f16\u7801"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { Base64 } from '@kazura/web-crypto'\n\n// \u7f16\u7801\nconst encoded = Base64.stringify('Hello, World!')\nconsole.log(encoded) // 'SGVsbG8sIFdvcmxkIQ=='\n\n// \u89e3\u7801\nconst decoded = Base64.parse('SGVsbG8sIFdvcmxkIQ==')\nconsole.log(decoded) // 'Hello, World!'\n"})}),"\n",(0,c.jsx)(n.h3,{id:"md5-\u54c8\u5e0c",children:"MD5 \u54c8\u5e0c"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { md5 } from '@kazura/web-crypto'\n\n// \u8ba1\u7b97 MD5 \u54c8\u5e0c\nconst hash = md5('Hello, World!')\nconsole.log(hash) // '65a8e27d8879283831b664bd8b7f0ad4'\n"})}),"\n",(0,c.jsx)(n.h3,{id:"sha256-\u54c8\u5e0c",children:"SHA256 \u54c8\u5e0c"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { sha256 } from '@kazura/web-crypto'\n\n// \u8ba1\u7b97 SHA256 \u54c8\u5e0c\nconst hash = sha256('Hello, World!')\nconsole.log(hash) // 'dffd6021bb2bd5b0af676290809ec3a53191dd81c7f70a4b28688a362182986f'\n"})}),"\n",(0,c.jsx)(n.h3,{id:"rsa-\u52a0\u5bc6",children:"RSA \u52a0\u5bc6"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { Rsa1024, Rsa2048 } from '@kazura/web-crypto'\n\n// \u751f\u6210 RSA-1024 \u5bc6\u94a5\u5bf9\nconst cert1024 = Rsa1024.createCertificate()\nconsole.log('Private Key:', cert1024.privkey)\nconsole.log('Public Key:', cert1024.pubkey)\n\n// \u4f7f\u7528 RSA-1024 \u52a0\u5bc6\nconst encrypted1024 = Rsa1024.encrypt('Secret message', cert1024.pubkey)\nconsole.log('Encrypted:', encrypted1024)\n\n// \u4f7f\u7528 RSA-1024 \u89e3\u5bc6\nconst decrypted1024 = Rsa1024.decrypt(encrypted1024, cert1024.privkey)\nconsole.log('Decrypted:', decrypted1024)\n\n// \u751f\u6210 RSA-2048 \u5bc6\u94a5\u5bf9\nconst cert2048 = Rsa2048.createCertificate()\nconsole.log('Private Key:', cert2048.privkey)\nconsole.log('Public Key:', cert2048.pubkey)\n\n// \u4f7f\u7528 RSA-2048 \u52a0\u5bc6\nconst encrypted2048 = Rsa2048.encrypt('Secret message', cert2048.pubkey)\nconsole.log('Encrypted:', encrypted2048)\n\n// \u4f7f\u7528 RSA-2048 \u89e3\u5bc6\nconst decrypted2048 = Rsa2048.decrypt(encrypted2048, cert2048.privkey)\nconsole.log('Decrypted:', decrypted2048)\n"})}),"\n",(0,c.jsx)(n.h3,{id:"aes-\u52a0\u5bc6",children:"AES \u52a0\u5bc6"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { Aes128Ecb } from '@kazura/web-crypto'\n\n// \u751f\u6210 AES \u5bc6\u94a5\nconst key = Aes128Ecb.generateBase64Key()\nconsole.log('AES Key:', key)\n\n// \u4f7f\u7528\u666e\u901a\u5bc6\u94a5\u52a0\u5bc6\nconst encrypted = Aes128Ecb.encrypt('Secret message', 'your-secret-key')\nconsole.log('Encrypted:', encrypted)\n\n// \u4f7f\u7528\u666e\u901a\u5bc6\u94a5\u89e3\u5bc6\nconst decrypted = Aes128Ecb.decrypt(encrypted, 'your-secret-key')\nconsole.log('Decrypted:', decrypted)\n\n// \u4f7f\u7528 Base64 \u5bc6\u94a5\u52a0\u5bc6\nconst encryptedWithBase64 = Aes128Ecb.encryptWithBase64Key('Secret message', key)\nconsole.log('Encrypted with Base64 key:', encryptedWithBase64)\n\n// \u4f7f\u7528 Base64 \u5bc6\u94a5\u89e3\u5bc6\nconst decryptedWithBase64 = Aes128Ecb.decryptWithBase64Key(encryptedWithBase64, key)\nconsole.log('Decrypted with Base64 key:', decryptedWithBase64)\n"})}),"\n",(0,c.jsx)(n.h2,{id:"api-\u53c2\u8003",children:"API \u53c2\u8003"}),"\n",(0,c.jsx)(n.h3,{id:"base64",children:"Base64"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static stringify(str: string): string"})," - \u5c06\u5b57\u7b26\u4e32\u7f16\u7801\u4e3a Base64"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static parse(str: string): string"})," - \u5c06 Base64 \u89e3\u7801\u4e3a\u5b57\u7b26\u4e32"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"md5",children:"md5"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"md5(message: string): string"})," - \u8ba1\u7b97\u5b57\u7b26\u4e32\u7684 MD5 \u54c8\u5e0c\u503c"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"sha256",children:"sha256"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"sha256(message: string): string"})," - \u8ba1\u7b97\u5b57\u7b26\u4e32\u7684 SHA256 \u54c8\u5e0c\u503c"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"rsa1024rsa2048",children:"Rsa1024/Rsa2048"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static encrypt(str: string, pubkey: string): string"})," - \u4f7f\u7528\u516c\u94a5\u52a0\u5bc6"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static decrypt(str: string, privkey: string): string"})," - \u4f7f\u7528\u79c1\u94a5\u89e3\u5bc6"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static createCertificate(): Certificate"})," - \u751f\u6210\u5bc6\u94a5\u5bf9","\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u8fd4\u56de ",(0,c.jsx)(n.code,{children:"{ privkey: string, pubkey: string }"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"aes128ecb",children:"Aes128Ecb"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static encrypt(message: string, key: string): string"})," - \u4f7f\u7528\u666e\u901a\u5bc6\u94a5\u52a0\u5bc6"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static decrypt(ciphertext: string, key: string): string"})," - \u4f7f\u7528\u666e\u901a\u5bc6\u94a5\u89e3\u5bc6"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static generateBase64Key(): string"})," - \u751f\u6210 Base64 \u7f16\u7801\u7684\u5bc6\u94a5"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static encryptWithBase64Key(plaintext: string, key: string): string"})," - \u4f7f\u7528 Base64 \u5bc6\u94a5\u52a0\u5bc6"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"static decryptWithBase64Key(ciphertext: string, key: string): string"})," - \u4f7f\u7528 Base64 \u5bc6\u94a5\u89e3\u5bc6"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsx)(n.li,{children:"RSA-1024 \u5bc6\u94a5\u957f\u5ea6\u8f83\u77ed\uff0c\u5efa\u8bae\u4f7f\u7528 RSA-2048"}),"\n",(0,c.jsx)(n.li,{children:"AES-128-ECB \u6a21\u5f0f\u5b89\u5168\u6027\u8f83\u4f4e\uff0c\u5efa\u8bae\u4f7f\u7528\u66f4\u5b89\u5168\u7684\u52a0\u5bc6\u6a21\u5f0f"}),"\n",(0,c.jsx)(n.li,{children:"\u5bc6\u94a5\u9700\u8981\u5b89\u5168\u5b58\u50a8\uff0c\u4e0d\u8981\u786c\u7f16\u7801\u5728\u4ee3\u7801\u4e2d"}),"\n",(0,c.jsx)(n.li,{children:"\u4f7f\u7528 Base64 \u5bc6\u94a5\u65f6\uff0c\u786e\u4fdd\u5bc6\u94a5\u683c\u5f0f\u6b63\u786e"}),"\n",(0,c.jsx)(n.li,{children:"\u52a0\u5bc6\u6570\u636e\u65f6\u6ce8\u610f\u5904\u7406\u7279\u6b8a\u5b57\u7b26\u548c\u7f16\u7801\u95ee\u9898"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,c.jsx)(n.h3,{id:"\u6587\u4ef6\u52a0\u5bc6",children:"\u6587\u4ef6\u52a0\u5bc6"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { Aes128Ecb } from '@kazura/web-crypto'\n\n// \u751f\u6210\u5bc6\u94a5\nconst key = Aes128Ecb.generateBase64Key()\n\n// \u52a0\u5bc6\u6587\u4ef6\u5185\u5bb9\nconst fileContent = 'File content to encrypt'\nconst encrypted = Aes128Ecb.encryptWithBase64Key(fileContent, key)\n\n// \u89e3\u5bc6\u6587\u4ef6\u5185\u5bb9\nconst decrypted = Aes128Ecb.decryptWithBase64Key(encrypted, key)\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u5bc6\u7801\u54c8\u5e0c",children:"\u5bc6\u7801\u54c8\u5e0c"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { sha256 } from '@kazura/web-crypto'\n\n// \u8ba1\u7b97\u5bc6\u7801\u54c8\u5e0c\nconst password = 'user-password'\nconst salt = 'random-salt'\nconst hashedPassword = sha256(password + salt)\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u5b89\u5168\u901a\u4fe1",children:"\u5b89\u5168\u901a\u4fe1"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:"import { Rsa2048, Aes128Ecb } from '@kazura/web-crypto'\n\n// \u751f\u6210 RSA \u5bc6\u94a5\u5bf9\nconst cert = Rsa2048.createCertificate()\n\n// \u751f\u6210 AES \u5bc6\u94a5\nconst aesKey = Aes128Ecb.generateBase64Key()\n\n// \u4f7f\u7528 RSA \u52a0\u5bc6 AES \u5bc6\u94a5\nconst encryptedKey = Rsa2048.encrypt(aesKey, cert.pubkey)\n\n// \u4f7f\u7528 AES \u52a0\u5bc6\u6d88\u606f\nconst message = 'Secret message'\nconst encryptedMessage = Aes128Ecb.encryptWithBase64Key(message, aesKey)\n\n// \u89e3\u5bc6\u8fc7\u7a0b\nconst decryptedKey = Rsa2048.decrypt(encryptedKey, cert.privkey)\nconst decryptedMessage = Aes128Ecb.decryptWithBase64Key(encryptedMessage, decryptedKey)\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}},8368:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var r=s(7378);const c={},t=r.createContext(c);function i(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);