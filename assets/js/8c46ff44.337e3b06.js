"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4674],{2765:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"komekko","title":"Komekko","description":"Komekko \u662f\u4e00\u4e2a\u57fa\u4e8e Rollup \u548c esbuild \u7684\u6784\u5efa\u5de5\u5177\uff0c\u7528\u4e8e\u6784\u5efa TypeScript/JavaScript \u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u5757\u683c\u5f0f\u548c\u9ad8\u7ea7\u6784\u5efa\u9009\u9879\u3002","source":"@site/docs/komekko.md","sourceDirName":".","slug":"/komekko","permalink":"/kazurajs/docs/komekko","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/komekko.md","tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"sidebar_position":25},"sidebar":"tutorialSidebar","previous":{"title":"Lock Native Back","permalink":"/kazurajs/docs/lock-native-back"}}');var s=i(6106),l=i(8018);const t={sidebar_position:25},o="Komekko",a={},d=[{value:"\u7279\u6027",id:"\u7279\u6027",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",level:2},{value:"\u57fa\u672c\u914d\u7f6e",id:"\u57fa\u672c\u914d\u7f6e",level:3},{value:"\u547d\u4ee4\u884c\u4f7f\u7528",id:"\u547d\u4ee4\u884c\u4f7f\u7528",level:3},{value:"\u9ad8\u7ea7\u914d\u7f6e",id:"\u9ad8\u7ea7\u914d\u7f6e",level:3},{value:"\u591a\u914d\u7f6e\u6784\u5efa",id:"\u591a\u914d\u7f6e\u6784\u5efa",level:3},{value:"API \u53c2\u8003",id:"api-\u53c2\u8003",level:2},{value:"defineConfig",id:"defineconfig",level:3},{value:"KomekkoOptions",id:"komekkooptions",level:3},{value:"target",id:"target",level:4},{value:"rootDir",id:"rootdir",level:4},{value:"outDir",id:"outdir",level:4},{value:"sourcemap",id:"sourcemap",level:4},{value:"minify",id:"minify",level:4},{value:"declaration",id:"declaration",level:4},{value:"alias",id:"alias",level:4},{value:"replace",id:"replace",level:4},{value:"external",id:"external",level:4},{value:"entries",id:"entries",level:4},{value:"rollupOptions",id:"rollupoptions",level:4},{value:"rollupPluginsOptions",id:"rolluppluginsoptions",level:4},{value:"BuildEntry",id:"buildentry",level:3},{value:"input",id:"input",level:4},{value:"outFileName",id:"outfilename",level:4},{value:"declaration",id:"declaration-1",level:4},{value:"formats",id:"formats",level:4},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"React \u7ec4\u4ef6\u5e93",id:"react-\u7ec4\u4ef6\u5e93",level:3},{value:"Node.js \u5de5\u5177\u5e93",id:"nodejs-\u5de5\u5177\u5e93",level:3},{value:"\u6d4f\u89c8\u5668\u5de5\u5177\u5e93",id:"\u6d4f\u89c8\u5668\u5de5\u5177\u5e93",level:3},{value:"\u591a\u5305\u6784\u5efa",id:"\u591a\u5305\u6784\u5efa",level:3},{value:"\u6df7\u6dc6\u6784\u5efa",id:"\u6df7\u6dc6\u6784\u5efa",level:3}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"komekko",children:"Komekko"})}),"\n",(0,s.jsx)(e.p,{children:"Komekko \u662f\u4e00\u4e2a\u57fa\u4e8e Rollup \u548c esbuild \u7684\u6784\u5efa\u5de5\u5177\uff0c\u7528\u4e8e\u6784\u5efa TypeScript/JavaScript \u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u5757\u683c\u5f0f\u548c\u9ad8\u7ea7\u6784\u5efa\u9009\u9879\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u7279\u6027",children:"\u7279\u6027"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u591a\u79cd\u6a21\u5757\u683c\u5f0f\uff08ESM\u3001CommonJS\u3001UMD\u3001IIFE\uff09"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301 TypeScript \u58f0\u660e\u6587\u4ef6\u751f\u6210"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u4ee3\u7801\u6df7\u6dc6"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u6e90\u7801\u6620\u5c04"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u4ee3\u7801\u538b\u7f29"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u522b\u540d\u548c\u8def\u5f84\u66ff\u6362"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u5916\u90e8\u4f9d\u8d56\u914d\u7f6e"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u591a\u5165\u53e3\u6784\u5efa"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u81ea\u5b9a\u4e49 Rollup \u914d\u7f6e"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u547d\u4ee4\u884c\u5de5\u5177"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"npm install komekko --save-dev\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u4f7f\u7528\u65b9\u6cd5",children:"\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,s.jsx)(e.h3,{id:"\u57fa\u672c\u914d\u7f6e",children:"\u57fa\u672c\u914d\u7f6e"}),"\n",(0,s.jsxs)(e.p,{children:["\u5728\u9879\u76ee\u6839\u76ee\u5f55\u521b\u5efa ",(0,s.jsx)(e.code,{children:"komekko.config.ts"})," \u6587\u4ef6\uff1a"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"import { defineConfig } from 'komekko'\n\nexport default defineConfig({\n  // \u6784\u5efa\u76ee\u6807\n  target: 'esnext',\n  // \u6e90\u7801\u76ee\u5f55\n  rootDir: './src',\n  // \u8f93\u51fa\u76ee\u5f55\n  outDir: './dist',\n  // \u662f\u5426\u751f\u6210\u6e90\u7801\u6620\u5c04\n  sourcemap: true,\n  // \u662f\u5426\u538b\u7f29\u4ee3\u7801\n  minify: true,\n  // \u662f\u5426\u751f\u6210\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\n  declaration: true,\n  // \u6784\u5efa\u5165\u53e3\n  entries: [\n    {\n      input: 'index.ts',\n      outFileName: 'index',\n      formats: ['esm', 'cjs'],\n      declaration: true,\n    },\n  ],\n})\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u547d\u4ee4\u884c\u4f7f\u7528",children:"\u547d\u4ee4\u884c\u4f7f\u7528"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u6784\u5efa\u9879\u76ee\nkomekko\n\n# \u6307\u5b9a\u6784\u5efa\u76ee\u5f55\nkomekko ./src\n\n# \u542f\u7528\u6e90\u7801\u6620\u5c04\nkomekko --sourcemap\n\n# \u542f\u7528\u4ee3\u7801\u538b\u7f29\nkomekko --minify\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u9ad8\u7ea7\u914d\u7f6e",children:"\u9ad8\u7ea7\u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"import { defineConfig } from 'komekko'\n\nexport default defineConfig({\n  // \u522b\u540d\u914d\u7f6e\n  alias: {\n    '@': './src',\n  },\n  // \u73af\u5883\u53d8\u91cf\u66ff\u6362\n  replace: {\n    'process.env.NODE_ENV': JSON.stringify('production'),\n  },\n  // \u5916\u90e8\u4f9d\u8d56\n  external: ['react', 'react-dom'],\n  // \u81ea\u5b9a\u4e49 Rollup \u914d\u7f6e\n  rollupOptions: {\n    output: {\n      globals: {\n        react: 'React',\n        'react-dom': 'ReactDOM',\n      },\n    },\n  },\n  // Rollup \u63d2\u4ef6\u914d\u7f6e\n  rollupPluginsOptions: {\n    // \u66ff\u6362\u63d2\u4ef6\u914d\u7f6e\n    replaceOptions: {\n      preventAssignment: true,\n    },\n    // \u522b\u540d\u63d2\u4ef6\u914d\u7f6e\n    aliasOptions: {\n      entries: [{ find: '@', replacement: './src' }],\n    },\n    // Node \u89e3\u6790\u63d2\u4ef6\u914d\u7f6e\n    nodeResolveOptions: {\n      extensions: ['.ts', '.tsx', '.js', '.jsx'],\n    },\n    // JSON \u63d2\u4ef6\u914d\u7f6e\n    jsonOptions: {\n      compact: true,\n    },\n    // esbuild \u63d2\u4ef6\u914d\u7f6e\n    esbuildOptions: {\n      target: 'esnext',\n      minify: true,\n    },\n    // CommonJS \u63d2\u4ef6\u914d\u7f6e\n    commonJSOptions: {\n      include: /node_modules/,\n    },\n    // \u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u63d2\u4ef6\u914d\u7f6e\n    dtsOptions: {\n      compilerOptions: {\n        moduleResolution: 'node',\n      },\n    },\n    // \u6df7\u6dc6\u63d2\u4ef6\u914d\u7f6e\n    obfuscatorOptions: {\n      compact: true,\n      controlFlowFlattening: true,\n    },\n  },\n})\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u591a\u914d\u7f6e\u6784\u5efa",children:"\u591a\u914d\u7f6e\u6784\u5efa"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"import { defineConfig } from 'komekko'\n\nexport default defineConfig([\n  // \u4e3b\u5305\u914d\u7f6e\n  {\n    entries: [\n      {\n        input: 'index.ts',\n        outFileName: 'index',\n        formats: ['esm', 'cjs'],\n        declaration: true,\n      },\n    ],\n  },\n  // \u5b50\u5305\u914d\u7f6e\n  {\n    entries: [\n      {\n        input: 'sub/index.ts',\n        outFileName: 'sub/index',\n        formats: ['esm', 'cjs'],\n        declaration: true,\n      },\n    ],\n  },\n])\n"})}),"\n",(0,s.jsx)(e.h2,{id:"api-\u53c2\u8003",children:"API \u53c2\u8003"}),"\n",(0,s.jsx)(e.h3,{id:"defineconfig",children:"defineConfig"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"function defineConfig(options: KomekkoOptions): KomekkoOptions\nfunction defineConfig(options: KomekkoOptions[]): KomekkoOptions[]\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5b9a\u4e49\u6784\u5efa\u914d\u7f6e\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"options"}),": \u6784\u5efa\u914d\u7f6e\u5bf9\u8c61\u6216\u914d\u7f6e\u5bf9\u8c61\u6570\u7ec4"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6784\u5efa\u914d\u7f6e\u5bf9\u8c61\u6216\u914d\u7f6e\u5bf9\u8c61\u6570\u7ec4"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"komekkooptions",children:"KomekkoOptions"}),"\n",(0,s.jsx)(e.p,{children:"\u6784\u5efa\u914d\u7f6e\u9009\u9879\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"target",children:"target"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"target: string\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u6784\u5efa\u76ee\u6807\uff0c\u9ed8\u8ba4\u4e3a ",(0,s.jsx)(e.code,{children:"'esnext'"}),"\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"rootdir",children:"rootDir"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"rootDir: string\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u6e90\u7801\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3a ",(0,s.jsx)(e.code,{children:"'./'"}),"\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"outdir",children:"outDir"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"outDir: string\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u8f93\u51fa\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3a ",(0,s.jsx)(e.code,{children:"'./dist'"}),"\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"sourcemap",children:"sourcemap"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"sourcemap: boolean\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u662f\u5426\u751f\u6210\u6e90\u7801\u6620\u5c04\uff0c\u9ed8\u8ba4\u4e3a ",(0,s.jsx)(e.code,{children:"false"}),"\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"minify",children:"minify"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"minify: boolean\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u662f\u5426\u538b\u7f29\u4ee3\u7801\uff0c\u9ed8\u8ba4\u4e3a ",(0,s.jsx)(e.code,{children:"false"}),"\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"declaration",children:"declaration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"declaration: boolean\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u662f\u5426\u751f\u6210\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u9ed8\u8ba4\u4e3a ",(0,s.jsx)(e.code,{children:"false"}),"\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"alias",children:"alias"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"alias: { [find: string]: string }\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u522b\u540d\u914d\u7f6e\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"replace",children:"replace"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"replace: { [str: string]: string }\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u73af\u5883\u53d8\u91cf\u66ff\u6362\u914d\u7f6e\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"external",children:"external"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"external: (string | RegExp)[]\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5916\u90e8\u4f9d\u8d56\u914d\u7f6e\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"entries",children:"entries"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"entries: BuildEntry[]\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u6784\u5efa\u5165\u53e3\u914d\u7f6e\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"rollupoptions",children:"rollupOptions"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"rollupOptions: RollupOptions\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u81ea\u5b9a\u4e49 Rollup \u914d\u7f6e\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"rolluppluginsoptions",children:"rollupPluginsOptions"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"rollupPluginsOptions: Partial<RollupPluginsOptions>\n"})}),"\n",(0,s.jsx)(e.p,{children:"Rollup \u63d2\u4ef6\u914d\u7f6e\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"buildentry",children:"BuildEntry"}),"\n",(0,s.jsx)(e.p,{children:"\u6784\u5efa\u5165\u53e3\u914d\u7f6e\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"input",children:"input"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"input: string\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u76f8\u5bf9\u4e8e ",(0,s.jsx)(e.code,{children:"rootDir"})," \u7684\u6587\u4ef6\u8def\u5f84\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"outfilename",children:"outFileName"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"outFileName: string | ((input: string, format: ModuleFormat) => string)\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u76f8\u5bf9\u4e8e ",(0,s.jsx)(e.code,{children:"outDir"})," \u7684\u6587\u4ef6\u8def\u5f84\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"declaration-1",children:"declaration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"declaration?: boolean\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u662f\u5426\u751f\u6210\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"formats",children:"formats"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"formats: ModuleFormat[]\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u6784\u5efa\u683c\u5f0f\u5217\u8868\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u786e\u4fdd\u5df2\u5b89\u88c5 TypeScript \u4f5c\u4e3a\u5f00\u53d1\u4f9d\u8d56"}),"\n",(0,s.jsx)(e.li,{children:"\u6ce8\u610f\u914d\u7f6e\u6b63\u786e\u7684\u6784\u5efa\u76ee\u6807\u548c\u6a21\u5757\u683c\u5f0f"}),"\n",(0,s.jsx)(e.li,{children:"\u5408\u7406\u4f7f\u7528\u5916\u90e8\u4f9d\u8d56\u914d\u7f6e"}),"\n",(0,s.jsx)(e.li,{children:"\u6ce8\u610f\u4ee3\u7801\u6df7\u6dc6\u7684\u6027\u80fd\u5f71\u54cd"}),"\n",(0,s.jsx)(e.li,{children:"\u53ca\u65f6\u66f4\u65b0\u4f9d\u8d56\u7248\u672c"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,s.jsx)(e.h3,{id:"react-\u7ec4\u4ef6\u5e93",children:"React \u7ec4\u4ef6\u5e93"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"import { defineConfig } from 'komekko'\n\nexport default defineConfig({\n  target: 'esnext',\n  rootDir: './src',\n  outDir: './dist',\n  sourcemap: true,\n  minify: true,\n  declaration: true,\n  external: ['react', 'react-dom'],\n  entries: [\n    {\n      input: 'index.ts',\n      outFileName: 'index',\n      formats: ['esm', 'cjs'],\n      declaration: true,\n    },\n  ],\n  rollupOptions: {\n    output: {\n      globals: {\n        react: 'React',\n        'react-dom': 'ReactDOM',\n      },\n    },\n  },\n})\n"})}),"\n",(0,s.jsx)(e.h3,{id:"nodejs-\u5de5\u5177\u5e93",children:"Node.js \u5de5\u5177\u5e93"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"import { defineConfig } from 'komekko'\n\nexport default defineConfig({\n  target: 'node16',\n  rootDir: './src',\n  outDir: './dist',\n  sourcemap: true,\n  minify: true,\n  declaration: true,\n  entries: [\n    {\n      input: 'index.ts',\n      outFileName: 'index',\n      formats: ['cjs', 'esm'],\n      declaration: true,\n    },\n  ],\n  rollupPluginsOptions: {\n    nodeResolveOptions: {\n      extensions: ['.ts', '.js'],\n    },\n  },\n})\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u6d4f\u89c8\u5668\u5de5\u5177\u5e93",children:"\u6d4f\u89c8\u5668\u5de5\u5177\u5e93"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"import { defineConfig } from 'komekko'\n\nexport default defineConfig({\n  target: 'es2015',\n  rootDir: './src',\n  outDir: './dist',\n  sourcemap: true,\n  minify: true,\n  entries: [\n    {\n      input: 'index.ts',\n      outFileName: 'index',\n      formats: ['iife', 'umd'],\n    },\n  ],\n  rollupOptions: {\n    output: {\n      name: 'MyLib',\n    },\n  },\n})\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u591a\u5305\u6784\u5efa",children:"\u591a\u5305\u6784\u5efa"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"import { defineConfig } from 'komekko'\n\nexport default defineConfig([\n  // \u4e3b\u5305\n  {\n    entries: [\n      {\n        input: 'index.ts',\n        outFileName: 'index',\n        formats: ['esm', 'cjs'],\n        declaration: true,\n      },\n    ],\n  },\n  // \u5b50\u5305 A\n  {\n    entries: [\n      {\n        input: 'a/index.ts',\n        outFileName: 'a/index',\n        formats: ['esm', 'cjs'],\n        declaration: true,\n      },\n    ],\n  },\n  // \u5b50\u5305 B\n  {\n    entries: [\n      {\n        input: 'b/index.ts',\n        outFileName: 'b/index',\n        formats: ['esm', 'cjs'],\n        declaration: true,\n      },\n    ],\n  },\n])\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u6df7\u6dc6\u6784\u5efa",children:"\u6df7\u6dc6\u6784\u5efa"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"import { defineConfig } from 'komekko'\n\nexport default defineConfig({\n  target: 'es2015',\n  rootDir: './src',\n  outDir: './dist',\n  minify: true,\n  entries: [\n    {\n      input: 'index.ts',\n      outFileName: 'index',\n      formats: ['iife'],\n    },\n  ],\n  rollupPluginsOptions: {\n    obfuscatorOptions: {\n      compact: true,\n      controlFlowFlattening: true,\n      deadCodeInjection: true,\n      debugProtection: true,\n      debugProtectionInterval: true,\n      disableConsoleOutput: true,\n      identifierNamesGenerator: 'hexadecimal',\n      log: false,\n      numbersToExpressions: true,\n      renameGlobals: false,\n      selfDefending: true,\n      simplify: true,\n      splitStrings: true,\n      stringArray: true,\n      stringArrayCallsTransform: true,\n      stringArrayEncoding: ['base64'],\n      stringArrayIndexShift: true,\n      stringArrayRotate: true,\n      stringArrayShuffle: true,\n      stringArrayWrappersCount: 2,\n      stringArrayWrappersChainedCalls: true,\n      stringArrayWrappersParametersMaxCount: 4,\n      stringArrayWrappersType: 'function',\n      stringArrayThreshold: 0.75,\n      transformObjectKeys: true,\n      unicodeEscapeSequence: false,\n    },\n  },\n})\n"})})]})}function p(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},8018:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>o});var r=i(7378);const s={},l=r.createContext(s);function t(n){const e=r.useContext(l);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),r.createElement(l.Provider,{value:e},n.children)}}}]);